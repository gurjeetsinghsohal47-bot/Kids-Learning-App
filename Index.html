<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#8B5CF6">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="description" content="Fun Learning App for Kids - Class 1 to 5 - Math, English, Hindi, Science, GK">
    <title>üéì Kids Learning App</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            overflow-x: hidden;
        }
        
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
        }
        
        .animate-bounce {
            animation: bounce 2s ease-in-out infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.6; }
        }
        
        .animate-pulse {
            animation: pulse 2s ease-in-out infinite;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: scale(0.9); }
            to { opacity: 1; transform: scale(1); }
        }
        
        .fade-in {
            animation: fadeIn 0.3s ease-out;
        }
        
        .btn-hover:hover {
            transform: scale(1.05);
        }
        
        .btn-hover:active {
            transform: scale(0.95);
        }
    </style>
</head>
<body>
    <div id="app"></div>

    <script>
        // Question Bank
        const questionBank = {
            math: {
                1: [
                    { q: "2 + 3 = ?", options: ["4", "5", "6", "7"], correct: 1 },
                    { q: "‡§ï‡•å‡§® ‡§∏‡§æ ‡§¨‡§°‡§º‡§æ ‡§π‡•à?", options: ["5", "3", "7", "4"], correct: 2 },
                    { q: "1 + 1 = ?", options: ["1", "2", "3", "4"], correct: 1 },
                    { q: "3 - 1 = ?", options: ["1", "2", "3", "4"], correct: 1 },
                    { q: "‡§ï‡•å‡§® ‡§∏‡§æ ‡§õ‡•ã‡§ü‡§æ ‡§π‡•à?", options: ["8", "2", "9", "5"], correct: 1 },
                    { q: "4 + 2 = ?", options: ["5", "6", "7", "8"], correct: 1 },
                    { q: "5 - 3 = ?", options: ["1", "2", "3", "4"], correct: 1 }
                ],
                2: [
                    { q: "5 + 7 = ?", options: ["10", "11", "12", "13"], correct: 2 },
                    { q: "9 - 4 = ?", options: ["4", "5", "6", "7"], correct: 1 },
                    { q: "2 √ó 3 = ?", options: ["5", "6", "7", "8"], correct: 1 },
                    { q: "10 √∑ 2 = ?", options: ["3", "4", "5", "6"], correct: 2 },
                    { q: "6 + 8 = ?", options: ["12", "13", "14", "15"], correct: 2 }
                ],
                3: [
                    { q: "12 + 18 = ?", options: ["28", "29", "30", "31"], correct: 2 },
                    { q: "5 √ó 6 = ?", options: ["25", "30", "35", "40"], correct: 1 },
                    { q: "20 - 7 = ?", options: ["12", "13", "14", "15"], correct: 1 },
                    { q: "24 √∑ 4 = ?", options: ["4", "5", "6", "7"], correct: 2 },
                    { q: "7 √ó 8 = ?", options: ["54", "55", "56", "57"], correct: 2 }
                ],
                4: [
                    { q: "45 + 67 = ?", options: ["110", "111", "112", "113"], correct: 2 },
                    { q: "8 √ó 9 = ?", options: ["64", "72", "81", "90"], correct: 1 },
                    { q: "100 - 37 = ?", options: ["61", "62", "63", "64"], correct: 2 },
                    { q: "144 √∑ 12 = ?", options: ["10", "11", "12", "13"], correct: 2 }
                ],
                5: [
                    { q: "125 + 248 = ?", options: ["363", "373", "383", "393"], correct: 1 },
                    { q: "12 √ó 15 = ?", options: ["170", "180", "190", "200"], correct: 1 },
                    { q: "144 √∑ 12 = ?", options: ["10", "11", "12", "13"], correct: 2 },
                    { q: "256 - 89 = ?", options: ["165", "166", "167", "168"], correct: 2 }
                ]
            },
            english: {
                1: [
                    { q: "‡§ï‡•å‡§® ‡§∏‡§æ vowel ‡§π‡•à?", options: ["B", "A", "C", "D"], correct: 1 },
                    { q: "Cat ‡§ï‡§æ ‡§™‡§π‡§≤‡§æ letter ‡§ï‡•ç‡§Ø‡§æ ‡§π‡•à?", options: ["A", "B", "C", "D"], correct: 2 },
                    { q: "Which is a color?", options: ["Dog", "Red", "Run", "Eat"], correct: 1 },
                    { q: "Apple starts with?", options: ["A", "B", "C", "D"], correct: 0 }
                ],
                2: [
                    { q: "Opposite of 'Big'?", options: ["Large", "Small", "Huge", "Tall"], correct: 1 },
                    { q: "A group of sheep is called?", options: ["Pack", "Flock", "Herd", "School"], correct: 1 },
                    { q: "Plural of 'Boy'?", options: ["Boies", "Boys", "Boyes", "Boy"], correct: 1 }
                ],
                3: [
                    { q: "Choose correct spelling:", options: ["Frend", "Friend", "Freind", "Frind"], correct: 1 },
                    { q: "Plural of 'Child'?", options: ["Childs", "Children", "Childes", "Childrens"], correct: 1 },
                    { q: "Past tense of 'eat'?", options: ["Eated", "Ate", "Eaten", "Eating"], correct: 1 }
                ],
                4: [
                    { q: "Synonym of 'Happy'?", options: ["Sad", "Joyful", "Angry", "Tired"], correct: 1 },
                    { q: "Which is an adjective?", options: ["Run", "Beautiful", "Quickly", "Jump"], correct: 1 },
                    { q: "Antonym of 'Hot'?", options: ["Warm", "Cold", "Cool", "Heat"], correct: 1 }
                ],
                5: [
                    { q: "Past tense of 'Go'?", options: ["Goed", "Gone", "Went", "Going"], correct: 2 },
                    { q: "A sentence must have:", options: ["Subject only", "Verb only", "Subject & Verb", "None"], correct: 2 },
                    { q: "Which is a pronoun?", options: ["Table", "She", "Run", "Happy"], correct: 1 }
                ]
            },
            hindi: {
                1: [
                    { q: "‡§ï ‡§∏‡•á ‡§ï‡•ç‡§Ø‡§æ ‡§π‡•ã‡§§‡§æ ‡§π‡•à?", options: ["‡§ï‡§¨‡•Ç‡§§‡§∞", "‡§ñ‡§∞‡§ó‡•ã‡§∂", "‡§ó‡§æ‡§Ø", "‡§ò‡§∞"], correct: 0 },
                    { q: "‡§∏‡•ç‡§µ‡§∞ ‡§ï‡§ø‡§§‡§®‡•á ‡§π‡•ã‡§§‡•á ‡§π‡•à‡§Ç?", options: ["10", "11", "12", "13"], correct: 1 },
                    { q: "‡§ñ ‡§ï‡§æ ‡§Æ‡§æ‡§§‡•ç‡§∞‡§æ?", options: ["‡§Ü", "‡§á", "‡§â", "‡§è"], correct: 0 }
                ],
                2: [
                    { q: "'‡§Ü‡§Æ' ‡§ï‡§æ ‡§¨‡§π‡•Å‡§µ‡§ö‡§®?", options: ["‡§Ü‡§Æ‡•ã‡§Ç", "‡§Ü‡§Æ", "‡§Ü‡§Æ‡•á‡§Ç", "‡§Ü‡§Æ‡•á"], correct: 0 },
                    { q: "‡§µ‡§ø‡§™‡§∞‡•Ä‡§§ ‡§∂‡§¨‡•ç‡§¶: ‡§¨‡§°‡§º‡§æ", options: ["‡§≤‡§Ç‡§¨‡§æ", "‡§õ‡•ã‡§ü‡§æ", "‡§Æ‡•ã‡§ü‡§æ", "‡§™‡§§‡§≤‡§æ"], correct: 1 },
                    { q: "‡§∂ ‡§Æ‡•á‡§Ç ‡§ï‡§ø‡§§‡§®‡•Ä ‡§Æ‡§æ‡§§‡•ç‡§∞‡§æ ‡§π‡•à?", options: ["0", "1", "2", "3"], correct: 0 }
                ],
                3: [
                    { q: "‡§ï‡•å‡§® ‡§∏‡§æ ‡§≤‡§ø‡§Ç‡§ó ‡§π‡•à: ‡§≤‡§°‡§º‡§ï‡§æ", options: ["‡§∏‡•ç‡§§‡•ç‡§∞‡•Ä‡§≤‡§ø‡§Ç‡§ó", "‡§™‡•Å‡§≤‡•ç‡§≤‡§ø‡§Ç‡§ó", "‡§â‡§≠‡§Ø‡§≤‡§ø‡§Ç‡§ó", "‡§ï‡•ã‡§à ‡§®‡§π‡•Ä‡§Ç"], correct: 1 },
                    { q: "'‡§™‡•á‡§°‡§º' ‡§ï‡§æ ‡§™‡§∞‡•ç‡§Ø‡§æ‡§Ø‡§µ‡§æ‡§ö‡•Ä?", options: ["‡§µ‡•É‡§ï‡•ç‡§∑", "‡§´‡•Ç‡§≤", "‡§™‡§§‡•ç‡§§‡§æ", "‡§ú‡§°‡§º"], correct: 0 },
                    { q: "‡§µ‡§ö‡§® ‡§¨‡§¶‡§≤‡•ã: ‡§ó‡§æ‡§Ø", options: ["‡§ó‡§æ‡§Ø‡•á‡§Ç", "‡§ó‡§æ‡§Ø‡•ã‡§Ç", "‡§ó‡§æ‡§à", "‡§ó‡§æ‡§è"], correct: 0 }
                ],
                4: [
                    { q: "'‡§π‡§æ‡§•‡•Ä' ‡§Æ‡•á‡§Ç ‡§ï‡•å‡§® ‡§∏‡§æ ‡§µ‡§∞‡•ç‡§£ ‡§π‡•à?", options: ["‡§π, ‡§•, ‡§à", "‡§π, ‡§Ü, ‡§•, ‡§à", "‡§π, ‡§æ, ‡§•, ‡•Ä", "‡§∏‡§≠‡•Ä"], correct: 2 },
                    { q: "‡§∏‡§Ç‡§ú‡•ç‡§û‡§æ ‡§ï‡§ø‡§∏‡•á ‡§ï‡§π‡§§‡•á ‡§π‡•à‡§Ç?", options: ["‡§®‡§æ‡§Æ", "‡§ï‡§æ‡§Æ", "‡§ó‡•Å‡§£", "‡§∏‡§Ç‡§ñ‡•ç‡§Ø‡§æ"], correct: 0 }
                ],
                5: [
                    { q: "‡§ï‡•ç‡§∞‡§ø‡§Ø‡§æ ‡§ï‡§ø‡§∏‡•á ‡§ï‡§π‡§§‡•á ‡§π‡•à‡§Ç?", options: ["‡§®‡§æ‡§Æ", "‡§ï‡§æ‡§Æ", "‡§ó‡•Å‡§£", "‡§∏‡§Ç‡§ñ‡•ç‡§Ø‡§æ"], correct: 1 },
                    { q: "‡§µ‡§ø‡§∂‡•á‡§∑‡§£ ‡§ï‡•ç‡§Ø‡§æ ‡§π‡•à?", options: ["‡§®‡§æ‡§Æ", "‡§ó‡•Å‡§£", "‡§ï‡§æ‡§Æ", "‡§∏‡•ç‡§•‡§æ‡§®"], correct: 1 }
                ]
            },
            science: {
                1: [
                    { q: "‡§ï‡•å‡§® ‡§∏‡§æ ‡§ú‡§æ‡§®‡§µ‡§∞ ‡§â‡§°‡§º‡§§‡§æ ‡§π‡•à?", options: ["‡§ï‡•Å‡§§‡•ç‡§§‡§æ", "‡§ó‡§æ‡§Ø", "‡§ö‡§ø‡§°‡§º‡§ø‡§Ø‡§æ", "‡§¨‡§ø‡§≤‡•ç‡§≤‡•Ä"], correct: 2 },
                    { q: "‡§π‡§Æ‡•á‡§Ç ‡§∞‡•ã‡§∂‡§®‡•Ä ‡§ï‡§π‡§æ‡§Å ‡§∏‡•á ‡§Æ‡§ø‡§≤‡§§‡•Ä ‡§π‡•à?", options: ["‡§∏‡•Ç‡§∞‡§ú", "‡§ö‡§æ‡§Å‡§¶", "‡§§‡§æ‡§∞‡•á", "‡§™‡§æ‡§®‡•Ä"], correct: 0 },
                    { q: "‡§™‡•á‡§°‡§º ‡§π‡§Æ‡•á‡§Ç ‡§ï‡•ç‡§Ø‡§æ ‡§¶‡•á‡§§‡•á ‡§π‡•à‡§Ç?", options: ["‡§™‡§æ‡§®‡•Ä", "‡§ë‡§ï‡•ç‡§∏‡•Ä‡§ú‡§®", "‡§Ü‡§ó", "‡§™‡§§‡•ç‡§•‡§∞"], correct: 1 }
                ],
                2: [
                    { q: "‡§™‡•å‡§ß‡•ã‡§Ç ‡§ï‡•ã ‡§ï‡•ç‡§Ø‡§æ ‡§ö‡§æ‡§π‡§ø‡§è?", options: ["‡§™‡§æ‡§®‡•Ä", "‡§ß‡•Ç‡§™", "‡§π‡§µ‡§æ", "‡§∏‡§≠‡•Ä"], correct: 3 },
                    { q: "‡§ï‡§ø‡§§‡§®‡•Ä ‡§á‡§Ç‡§¶‡•ç‡§∞‡§ø‡§Ø‡§æ‡§Å ‡§π‡•ã‡§§‡•Ä ‡§π‡•à‡§Ç?", options: ["3", "4", "5", "6"], correct: 2 },
                    { q: "‡§¶‡§ø‡§® ‡§Æ‡•á‡§Ç ‡§ï‡•å‡§® ‡§¶‡§ø‡§ñ‡§§‡§æ ‡§π‡•à?", options: ["‡§ö‡§æ‡§Å‡§¶", "‡§∏‡•Ç‡§∞‡§ú", "‡§§‡§æ‡§∞‡•á", "‡§ï‡•ã‡§à ‡§®‡§π‡•Ä‡§Ç"], correct: 1 }
                ],
                3: [
                    { q: "‡§∏‡§¨‡§∏‡•á ‡§¨‡§°‡§º‡§æ ‡§ó‡•ç‡§∞‡§π ‡§ï‡•å‡§® ‡§∏‡§æ ‡§π‡•à?", options: ["‡§™‡•É‡§•‡•ç‡§µ‡•Ä", "‡§Æ‡§Ç‡§ó‡§≤", "‡§¨‡•É‡§π‡§∏‡•ç‡§™‡§§‡§ø", "‡§∂‡§®‡§ø"], correct: 2 },
                    { q: "‡§™‡§æ‡§®‡•Ä ‡§ï‡•á ‡§§‡•Ä‡§® ‡§∞‡•Ç‡§™?", options: ["‡§¨‡§∞‡•ç‡§´, ‡§™‡§æ‡§®‡•Ä, ‡§≠‡§æ‡§™", "‡§ï‡•á‡§µ‡§≤ ‡§™‡§æ‡§®‡•Ä", "‡§¨‡§∞‡•ç‡§´ ‡§î‡§∞ ‡§™‡§æ‡§®‡•Ä", "‡§ï‡•ã‡§à ‡§®‡§π‡•Ä‡§Ç"], correct: 0 },
                    { q: "‡§™‡•É‡§•‡•ç‡§µ‡•Ä ‡§ï‡§æ ‡§â‡§™‡§ó‡•ç‡§∞‡§π?", options: ["‡§∏‡•Ç‡§∞‡§ú", "‡§ö‡§æ‡§Å‡§¶", "‡§Æ‡§Ç‡§ó‡§≤", "‡§∂‡•Å‡§ï‡•ç‡§∞"], correct: 1 }
                ],
                4: [
                    { q: "‡§™‡•ç‡§∞‡§ï‡§æ‡§∂ ‡§∏‡§Ç‡§∂‡•ç‡§≤‡•á‡§∑‡§£ ‡§ï‡§ø‡§∏‡§Æ‡•á‡§Ç ‡§π‡•ã‡§§‡§æ ‡§π‡•à?", options: ["‡§ú‡§æ‡§®‡§µ‡§∞", "‡§™‡•å‡§ß‡•á", "‡§™‡§§‡•ç‡§•‡§∞", "‡§™‡§æ‡§®‡•Ä"], correct: 1 },
                    { q: "‡§π‡•É‡§¶‡§Ø ‡§ï‡•ç‡§Ø‡§æ ‡§ï‡§∞‡§§‡§æ ‡§π‡•à?", options: ["‡§∏‡•ã‡§ö‡§§‡§æ", "‡§™‡§Ç‡§™ ‡§ï‡§∞‡§§‡§æ", "‡§¶‡•á‡§ñ‡§§‡§æ", "‡§∏‡•Å‡§®‡§§‡§æ"], correct: 1 }
                ],
                5: [
                    { q: "‡§Æ‡§®‡•Å‡§∑‡•ç‡§Ø ‡§Æ‡•á‡§Ç ‡§ï‡§ø‡§§‡§®‡•Ä ‡§π‡§°‡•ç‡§°‡§ø‡§Ø‡§æ‡§Å ‡§π‡•ã‡§§‡•Ä ‡§π‡•à‡§Ç?", options: ["106", "206", "306", "406"], correct: 1 },
                    { q: "‡§∏‡§¨‡§∏‡•á ‡§¨‡§°‡§º‡§æ ‡§Ö‡§Ç‡§ó ‡§ï‡•å‡§® ‡§∏‡§æ ‡§π‡•à?", options: ["‡§¶‡§ø‡§≤", "‡§´‡•á‡§´‡§°‡§º‡•á", "‡§§‡•ç‡§µ‡§ö‡§æ", "‡§≤‡•Ä‡§µ‡§∞"], correct: 2 }
                ]
            },
            gk: {
                1: [
                    { q: "‡§≠‡§æ‡§∞‡§§ ‡§ï‡•Ä ‡§∞‡§æ‡§ú‡§ß‡§æ‡§®‡•Ä?", options: ["‡§Æ‡•Å‡§Ç‡§¨‡§à", "‡§¶‡§ø‡§≤‡•ç‡§≤‡•Ä", "‡§ï‡•ã‡§≤‡§ï‡§æ‡§§‡§æ", "‡§ö‡•á‡§®‡•ç‡§®‡§à"], correct: 1 },
                    { q: "‡§§‡§ø‡§∞‡§Ç‡§ó‡•á ‡§Æ‡•á‡§Ç ‡§ï‡§ø‡§§‡§®‡•á ‡§∞‡§Ç‡§ó ‡§π‡•à‡§Ç?", options: ["2", "3", "4", "5"], correct: 1 },
                    { q: "‡§∞‡§æ‡§∑‡•ç‡§ü‡•ç‡§∞‡•Ä‡§Ø ‡§™‡§ï‡•ç‡§∑‡•Ä?", options: ["‡§ï‡§¨‡•Ç‡§§‡§∞", "‡§Æ‡•ã‡§∞", "‡§§‡•ã‡§§‡§æ", "‡§ö‡•Ä‡§≤"], correct: 1 }
                ],
                2: [
                    { q: "‡§π‡§´‡•ç‡§§‡•á ‡§Æ‡•á‡§Ç ‡§ï‡§ø‡§§‡§®‡•á ‡§¶‡§ø‡§® ‡§π‡•ã‡§§‡•á ‡§π‡•à‡§Ç?", options: ["5", "6", "7", "8"], correct: 2 },
                    { q: "‡§∏‡§æ‡§≤ ‡§Æ‡•á‡§Ç ‡§ï‡§ø‡§§‡§®‡•á ‡§Æ‡§π‡•Ä‡§®‡•á ‡§π‡•ã‡§§‡•á ‡§π‡•à‡§Ç?", options: ["10", "11", "12", "13"], correct: 2 },
                    { q: "‡§∞‡§æ‡§∑‡•ç‡§ü‡•ç‡§∞‡•Ä‡§Ø ‡§´‡§≤?", options: ["‡§∏‡•á‡§¨", "‡§Ü‡§Æ", "‡§ï‡•á‡§≤‡§æ", "‡§Ö‡§Ç‡§ó‡•Ç‡§∞"], correct: 1 }
                ],
                3: [
                    { q: "‡§≠‡§æ‡§∞‡§§ ‡§ï‡•á ‡§™‡§π‡§≤‡•á ‡§™‡•ç‡§∞‡§ß‡§æ‡§®‡§Æ‡§Ç‡§§‡•ç‡§∞‡•Ä?", options: ["‡§ó‡§æ‡§Ç‡§ß‡•Ä ‡§ú‡•Ä", "‡§®‡•á‡§π‡§∞‡•Ç ‡§ú‡•Ä", "‡§™‡§ü‡•á‡§≤", "‡§Ü‡§ú‡§º‡§æ‡§¶"], correct: 1 },
                    { q: "‡§∏‡•ç‡§µ‡§§‡§Ç‡§§‡•ç‡§∞‡§§‡§æ ‡§¶‡§ø‡§µ‡§∏ ‡§ï‡§¨ ‡§π‡•à?", options: ["26 ‡§ú‡§®‡§µ‡§∞‡•Ä", "15 ‡§Ö‡§ó‡§∏‡•ç‡§§", "2 ‡§Ö‡§ï‡•ç‡§ü‡•Ç‡§¨‡§∞", "14 ‡§®‡§µ‡§Ç‡§¨‡§∞"], correct: 1 }
                ],
                4: [
                    { q: "‡§§‡§æ‡§ú‡§Æ‡§π‡§≤ ‡§ï‡§π‡§æ‡§Å ‡§π‡•à?", options: ["‡§¶‡§ø‡§≤‡•ç‡§≤‡•Ä", "‡§Ü‡§ó‡§∞‡§æ", "‡§ú‡§Ø‡§™‡•Å‡§∞", "‡§≤‡§ñ‡§®‡§ä"], correct: 1 },
                    { q: "‡§≠‡§æ‡§∞‡§§ ‡§Æ‡•á‡§Ç ‡§ï‡§ø‡§§‡§®‡•á ‡§∞‡§æ‡§ú‡•ç‡§Ø ‡§π‡•à‡§Ç?", options: ["28", "29", "30", "31"], correct: 0 }
                ],
                5: [
                    { q: "‡§∏‡§Ç‡§µ‡§ø‡§ß‡§æ‡§® ‡§ï‡§¨ ‡§≤‡§æ‡§ó‡•Ç ‡§π‡•Å‡§Ü?", options: ["1947", "1948", "1949", "1950"], correct: 3 },
                    { q: "‡§∏‡§¨‡§∏‡•á ‡§≤‡§Ç‡§¨‡•Ä ‡§®‡§¶‡•Ä?", options: ["‡§Ø‡§Æ‡•Å‡§®‡§æ", "‡§ó‡§Ç‡§ó‡§æ", "‡§®‡§∞‡•ç‡§Æ‡§¶‡§æ", "‡§ï‡•É‡§∑‡•ç‡§£‡§æ"], correct: 1 }
                ]
            }
        };

        const subjects = [
            { id: 'math', name: 'Math', emoji: 'üî¢', color: 'from-blue-400 to-blue-600' },
            { id: 'english', name: 'English', emoji: 'üìö', color: 'from-purple-400 to-purple-600' },
            { id: 'hindi', name: '‡§π‡§ø‡§®‡•ç‡§¶‡•Ä', emoji: '‚úçÔ∏è', color: 'from-orange-400 to-orange-600' },
            { id: 'science', name: 'Science', emoji: 'üî¨', color: 'from-green-400 to-green-600' },
            { id: 'gk', name: 'GK', emoji: 'üåü', color: 'from-pink-400 to-pink-600' }
        ];

        class KidsLearningApp {
            constructor() {
                this.state = {
                    screen: 'home',
                    selectedClass: null,
                    selectedSubject: null,
                    currentQuestion: 0,
                    score: 0,
                    streak: 0,
                    totalPoints: parseInt(localStorage.getItem('totalPoints') || '0'),
                    level: parseInt(localStorage.getItem('level') || '1'),
                    selectedAnswer: null,
                    showFeedback: false,
                    questions: [],
                    answeredCorrectly: false
                };
                this.render();
            }

            setState(newState) {
                this.state = { ...this.state, ...newState };
                this.render();
            }

            startQuiz(subject) {
                const subjectQuestions = questionBank[subject.id]?.[this.state.selectedClass] || [];
                this.setState({
                    selectedSubject: subject,
                    questions: subjectQuestions,
                    currentQuestion: 0,
                    score: 0,
                    streak: 0,
                    selectedAnswer: null,
                    showFeedback: false,
                    screen: 'quiz'
                });
            }

            handleAnswer(answerIndex) {
                if (this.state.showFeedback) return;
                
                const isCorrect = answerIndex === this.state.questions[this.state.currentQuestion].correct;
                
                let newState = {
                    selectedAnswer: answerIndex,
                    answeredCorrectly: isCorrect,
                    showFeedback: true
                };

                if (isCorrect) {
                    const points = 10 + (this.state.streak * 5);
                    const newTotalPoints = this.state.totalPoints + points;
                    const newLevel = newTotalPoints >= this.state.level * 100 ? this.state.level + 1 : this.state.level;
                    
                    localStorage.setItem('totalPoints', newTotalPoints);
                    localStorage.setItem('level', newLevel);
                    
                    newState = {
                        ...newState,
                        score: this.state.score + 1,
                        streak: this.state.streak + 1,
                        totalPoints: newTotalPoints,
                        level: newLevel
                    };
                } else {
                    newState.streak = 0;
                }

                this.setState(newState);
            }

            nextQuestion() {
                if (this.state.currentQuestion < this.state.questions.length - 1) {
                    this.setState({
                        currentQuestion: this.state.currentQuestion + 1,
                        selectedAnswer: null,
                        showFeedback: false
                    });
                } else {
                    this.setState({ screen: 'result' });
                }
            }

            renderHome() {
                return `
                    <div class="min-h-screen bg-gradient-to-br from-purple-400 via-pink-400 to-blue-400 p-6 flex flex-col items-center justify-center fade-in">
                        <div class="text-center mb-8 animate-bounce">
                            <h1 class="text-5xl font-bold text-white mb-2 drop-shadow-lg">üéì Fun Learning!</h1>
                            <p class="text-white text-xl">Learn ‡§ï‡§∞‡•ã, Enjoy ‡§ï‡§∞‡•ã! üöÄ</p>
                        </div>

                        <div class="bg-white rounded-3xl shadow-2xl p-8 max-w-md w-full">
                            <div class="flex justify-between items-center mb-6 bg-gradient-to-r from-yellow-200 to-yellow-300 p-4 rounded-2xl">
                                <div class="flex items-center gap-2">
                                    <span class="text-2xl">üèÜ</span>
                                    <div>
                                        <p class="text-xs text-gray-600">Level</p>
                                        <p class="font-bold text-lg text-gray-800">${this.state.level}</p>
                                    </div>
                                </div>
                                <div class="flex items-center gap-2">
                                    <span class="text-2xl">‚≠ê</span>
                                    <div>
                                        <p class="text-xs text-gray-600">Points</p>
                                        <p class="font-bold text-lg text-gray-800">${this.state.totalPoints}</p>
                                    </div>
                                </div>
                            </div>

                            <h2 class="text-2xl font-bold text-gray-800 mb-4 text-center">‡§Ö‡§™‡§®‡•Ä Class ‡§ö‡•Å‡§®‡•ã! üìñ</h2>
                            
                            <div class="grid grid-cols-5 gap-3 mb-4">
                                ${[1, 2, 3, 4, 5].map(cls => `
                                    <button
                                        onclick="app.setState({ selectedClass: ${cls}, screen: 'subject' })"
                                        class="aspect-square bg-gradient-to-br from-blue-400 to-blue-600 hover:from-blue-500 hover:to-blue-700 text-white rounded-2xl font-bold text-2xl shadow-lg btn-hover transition-all duration-200"
                                    >
                                        ${cls}
                                    </button>
                                `).join('')}
                            </div>
                        </div>

                        <div class="mt-6 flex gap-4">
                            <span class="text-white text-4xl animate-pulse">üèÖ</span>
                            <span class="text-yellow-300 text-4xl animate-pulse">‚ö°</span>
                            <span class="text-white text-4xl animate-pulse">‚≠ê</span>
                        </div>
                    </div>
                `;
            }

            renderSubjectSelection() {
                return `
                    <div class="min-h-screen bg-gradient-to-br from-indigo-400 via-purple-400 to-pink-400 p-6 fade-in">
                        <div class="max-w-2xl mx-auto">
                            <button
                                onclick="app.setState({ screen: 'home' })"
                                class="mb-6 bg-white/20 backdrop-blur-sm text-white px-4 py-2 rounded-full hover:bg-white/30 transition btn-hover"
                            >
                                ‚Üê ‡§µ‡§æ‡§™‡§∏ ‡§ú‡§æ‡§ì
                            </button>

                            <div class="text-center mb-8">
                                <h2 class="text-4xl font-bold text-white mb-2 drop-shadow-lg">Class ${this.state.selectedClass} üéØ</h2>
                                <p class="text-white text-lg">‡§ï‡•å‡§® ‡§∏‡§æ subject ‡§™‡§¢‡§º‡§®‡§æ ‡§π‡•à?</p>
                            </div>

                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                ${subjects.map(subject => {
                                    const hasQuestions = questionBank[subject.id]?.[this.state.selectedClass]?.length > 0;
                                    return `
                                        <button
                                            onclick="${hasQuestions ? `app.startQuiz(${JSON.stringify(subject)})` : ''}"
                                            ${!hasQuestions ? 'disabled' : ''}
                                            class="bg-white rounded-3xl p-6 shadow-xl ${hasQuestions ? 'btn-hover hover:shadow-2xl' : 'opacity-50 cursor-not-allowed'} transition-all duration-200"
                                        >
                                            <div class="w-16 h-16 bg-gradient-to-br ${subject.color} rounded-2xl flex items-center justify-center mb-4 mx-auto">
                                                <span class="text-4xl">${subject.emoji}</span>
                                            </div>
                                            <h3 class="text-2xl font-bold text-gray-800 mb-2">${subject.name}</h3>
                                            ${hasQuestions ? `
                                                <div class="flex items-center justify-center gap-2 text-gray-600">
                                                    <span>‚Üí</span>
                                                    <span class="text-sm">Start ‡§ï‡§∞‡•ã!</span>
                                                </div>
                                            ` : `
                                                <p class="text-sm text-gray-500">Coming soon! üöß</p>
                                            `}
                                        </button>
                                    `;
                                }).join('')}
                            </div>
                        </div>
                    </div>
                `;
            }

            renderQuiz() {
                if (!this.state.questions.length) return '';
                const question = this.state.questions[this.state.currentQuestion];
                
                return `
                    <div class="min-h-screen bg-gradient-to-br from-green-400 via-blue-400 to-purple-400 p-6 flex items-center justify-center fade-in">
                        <div class="max-w-2xl w-full">
                            <div class="bg-white/10 backdrop-blur-sm rounded-2xl p-4 mb-6 flex justify-between items-center flex-wrap gap-2">
                                <div class="flex items-center gap-4">
                                    <div class="bg-white rounded-full px-4 py-2">
                                        <span class="font-bold text-gray-800">Q ${this.state.currentQuestion + 1}/${this.state.questions.length}</span>
                                    </div>
                                    <div class="flex items-center gap-2 bg-yellow-400 rounded-full px-4 py-2">
                                        <span class="text-xl">‚ö°</span>
                                        <span class="font-bold text-yellow-800">Streak: ${this.state.streak}</span>
                                    </div>
                                </div>
                                <div class="bg-white rounded-full px-4 py-2">
                                    <span class="font-bold text-gray-800">Score: ${this.state.score}</span>
                                </div>
                            </div>

                            <div class="bg-white rounded-3xl shadow-2xl p-8">
                                <div class="mb-8">
                                    <h3 class="text-3xl font-bold text-gray-800 text-center mb-6">
                                        ${question.q}
                                    </h3>

                                    <div class="grid grid-cols-1 gap-4">
                                        ${question.options.map((option, index) => {
                                            let buttonClass = "w-full p-6 rounded-2xl font-bold text-xl transition-all duration-200 btn-hover ";
                                            
                                            if (this.state.showFeedback) {
                                                if (index === question.correct) {
                                                    buttonClass += "bg-gradient-to-r from-green-400 to-green-600 text-white shadow-lg scale-105";
                                                } else if (index === this.state.selectedAnswer && !this.state.answeredCorrectly) {
                                                    buttonClass += "bg-gradient-to-r from-red-400 to-red-600 text-white";
                                                } else {
                                                    buttonClass += "bg-gray-100 text-gray-400";
                                                }
                                            } else {
                                                buttonClass += "bg-gradient-to-r from-blue-100 to-purple-100 hover:from-blue-200 hover:to-purple-200 text-gray-800 shadow-md hover:shadow-xl";
                                            }

                                            return `
                                                <button
                                                    onclick="app.handleAnswer(${index})"
                                                    ${this.state.showFeedback ? 'disabled' : ''}
                                                    class="${buttonClass}"
                                                >
                                                    ${option}
                                                    ${this.state.showFeedback && index === question.correct ? ' ‚úÖ' : ''}
                                                    ${this.state.showFeedback && index === this.state.selectedAnswer && !this.state.answeredCorrectly ? ' ‚ùå' : ''}
                                                </button>
                                            `;
                                        }).join('')}
                                    </div>
                                </div>

                                ${this.state.showFeedback ? `
                                    <div class="text-center">
                                        ${this.state.answeredCorrectly ? `
                                            <div class="bg-green-100 p-6 rounded-2xl mb-4 animate-pulse">
                                                <p class="text-3xl mb-2">üéâ</p>
                                                <p class="text-2xl font-bold text-green-800">Shabash! Correct! üåü</p>
                                                <p class="text-green-700">+${10 + (this.state.streak * 5)} points!</p>
                                            </div>
                                        ` : `
                                            <div class="bg-red-100 p-6 rounded-2xl mb-4">
                                                <p class="text-3xl mb-2">üí™</p>
                                                <p class="text-2xl font-bold text-red-800">Koi baat nahi!</p>
                                                <p class="text-red-700">Try karte raho!</p>
                                            </div>
                                        `}
                                        
                                        <button
                                            onclick="app.nextQuestion()"
                                            class="bg-gradient-to-r from-purple-500 to-pink-500 text-white px-8 py-4 rounded-full font-bold text-xl hover:from-purple-600 hover:to-pink-600 btn-hover transition-all shadow-lg"
                                        >
                                            ${this.state.currentQuestion < this.state.questions.length - 1 ? '‡§Ö‡§ó‡§≤‡§æ Question ‚Üí' : 'Result ‡§¶‡•á‡§ñ‡•ã! üèÜ'}
                                        </button>
                                    </div>
                                ` : ''}
                            </div>
                        </div>
                    </div>
                `;
            }

            renderResult() {
                const percentage = ((this.state.score / this.state.questions.length) * 100).toFixed(0);
                const passed = percentage >= 60;

                return `
                    <div class="min-h-screen bg-gradient-to-br from-yellow-400 via-orange-400 to-red-400 p-6 flex items-center justify-center fade-in">
                        <div class="max-w-md w-full bg-white rounded-3xl shadow-2xl p-8 text-center">
                            <div class="mb-6">
                                ${passed ? `
                                    <div class="text-8xl mb-4 animate-bounce">üèÜ</div>
                                ` : `
                                    <div class="text-8xl mb-4">üí™</div>
                                `}
                                <h2 class="text-4xl font-bold text-gray-800 mb-2">
                                    ${passed ? 'Bahut Badhiya!' : 'Good Try!'}
                                </h2>
                                <p class="text-gray-600 text-lg">
                                    ${passed ? 'Tum to champion ho! üåü' : 'Practice makes perfect! üìö'}
                                </p>
                            </div>

                            <div class="bg-gradient-to-r from-purple-100 to-pink-100 rounded-2xl p-6 mb-6">
                                <div class="grid grid-cols-2 gap-4 mb-4">
                                    <div class="bg-white rounded-xl p-4">
                                        <p class="text-gray-600 text-sm mb-1">Score</p>
                                        <p class="text-3xl font-bold text-gray-800">${this.state.score}/${this.state.questions.length}</p>
                                    </div>
                                    <div class="bg-white rounded-xl p-4">
                                        <p class="text-gray-600 text-sm mb-1">Percentage</p>
                                        <p class="text-3xl font-bold text-gray-800">${percentage}%</p>
                                    </div>
                                </div>
                                <div class="bg-white rounded-xl p-4">
                                    <p class="text-gray-600 text-sm mb-1">Current Level</p>
                                    <div class="flex items-center justify-center gap-2">
                                        <span class="text-2xl">üèÜ</span>
                                        <p class="text-3xl font-bold text-gray-800">Level ${this.state.level}</p>
                                    </div>
                                </div>
                            </div>

                            <div class="flex flex-col gap-3">
                                <button
                                    onclick="app.startQuiz(${JSON.stringify(this.state.selectedSubject)})"
                                    class="w-full bg-gradient-to-r from-green-500 to-green-600 text-white px-6 py-4 rounded-full font-bold text-lg hover:from-green-600 hover:to-green-700 btn-hover transition-all shadow-lg"
                                >
                                    üîÑ ‡§´‡§ø‡§∞ ‡§∏‡•á Try ‡§ï‡§∞‡•ã!
                                </button>
                                <button
                                    onclick="app.setState({ screen: 'subject' })"
                                    class="w-full bg-gradient-to-r from-blue-500 to-purple-500 text-white px-6 py-4 rounded-full font-bold text-lg hover:from-blue-600 hover:to-purple-600 btn-hover transition-all shadow-lg"
                                >
                                    üìö ‡§¶‡•Ç‡§∏‡§∞‡§æ Subject ‡§ö‡•Å‡§®‡•ã
                                </button>
                                <button
                                    onclick="app.setState({ screen: 'home' })"
                                    class="w-full bg-gray-200 text-gray-700 px-6 py-4 rounded-full font-bold text-lg hover:bg-gray-300 btn-hover transition-all"
                                >
                                    üè† Home ‡§ú‡§æ‡§ì
                                </button>
                            </div>
                        </div>
                    </div>
                `;
            }

            render() {
                const appElement = document.getElementById('app');
                if (!appElement) return;

                let html = '';
                switch (this.state.screen) {
                    case 'home':
                        html = this.renderHome();
                        break;
                    case 'subject':
                        html = this.renderSubjectSelection();
                        break;
                    case 'quiz':
                        html = this.renderQuiz();
                        break;
                    case 'result':
                        html = this.renderResult();
                        break;
                }
                
                appElement.innerHTML = html;
            }
        }

        // Initialize app
        let app;
        window.addEventListener('DOMContentLoaded', () => {
            app = new KidsLearningApp();
        });
    </script>
</body>
</html>
